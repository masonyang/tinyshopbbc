<ion-view view-title="注册" hide-nav-bar="false" class="w content_bg">

    <ion-content>
        <form name="myForm" novalidate>
            <div class="list input-30-label" style="margin-top:20px;margin-bottom:5px;">
                <div class="item item-input">
                    <span class="input-label" >手机号码</span>
                    <input type="text" ng-model="user.username" placeholder="输入手机号码" name="username" ng-pattern="/^1[3|4|5|7|8][0-9]\d{8}$/" required>
                </div>
                <div class="item item-input">
                    <span class="input-label">设置密码</span>
                    <input type="password" ng-model="user.password" placeholder="必须是6-20位字母、数字" name="password" ng-minlength="6" ng-maxlength="20" required>
                </div>
                <div class="item item-input">
                    <span class="input-label">确认密码</span>
                    <input type="password" ng-model="user.repassword" placeholder="确认密码" name="repassword" ng-minlength="6" ng-maxlength="20" required>
                </div>
                <div class="item item-input">
                    <span class="input-label">验证码</span>
                    <input type="text" ng-model="user.smscode" name="smscode" placeholder="请输入验证码" style="width:50%;padding-right:0px;" required>
                    <a class="button button-assertive button-small button-positive" style="position:absolute; padding:3px 10px; top:0.3rem; right:10px;"
                       ng-cliss="addclass" ng-click="getCode()"  ng-disabled="isdisabled" ng-bind="codetext">{{codetext}}</a>
                </div>
            </div>

            <div class="formError" ng-if="myForm.username.$touched && myForm.username.$invalid">请输入正确手机号码</div>
            <div class="formError" ng-if="myForm.password.$touched && myForm.password.$invalid">请输入6-20位密码</div>
            <div class="formError" ng-if="myForm.repassword.$touched && myForm.repassword.$invalid">请输入正确的确认密码</div>
            <div class="formError" ng-if="myForm.smscode.$touched && myForm.smscode.$invalid">请输入正确的验证码</div>

            <div class="padding" style="padding-bottom:3px;">
                <button class="button button-block button-assertive " ng-click="Register(user)" ng-disabled="myForm.$invalid">注册</button>
            </div>
        </form>
        <div class="clearfix login-bottom" style="font-size: 14px; padding:0 6px;">
            <i class="fl"><a class="btn" ng-href="/wap/login">登录</a></i>
            <i class="fr"><a class="btn" ng-href="/wap/findpwd">忘记密码</a></i>
        </div>

    </ion-content>

</ion-view>