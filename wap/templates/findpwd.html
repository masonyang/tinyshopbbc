<ion-view view-title="找回密码" hide-nav-bar="true" class="w content_bg">
    <ion-header-bar class="bar bar-header bar-assertive">
        <a class="button icon ion-ios-arrow-left button-clear" ng-click="goBack()" nav-direction="back"></a>
        <h1 class="title">找回密码</h1>
    </ion-header-bar>

    <ion-content>
        <form name="myForm" novalidate>
            <div class="list input-30-label" style="margin-top:20px;margin-bottom:5px;">
                <div class="item item-input">
                    <span class="input-label">手机号码</span>
                    <input type="text" ng-model="user.username" placeholder="请输入手机号码" name="username" ng-pattern="/^1[3|4|5|7|8][0-9]\d{8}$/" required>
                </div>
                <div class="item item-input">
                    <span class="input-label">设置新密码</span>
                    <input type="password" ng-model="user.password" placeholder="必须是6-20位字母、数字" name="password" ng-minlength="6" ng-maxlength="20" required>
                </div>
                <div class="item item-input">
                    <span class="input-label">确认新密码</span>
                    <input type="password" ng-model="user.repassword" placeholder="确认新密码" name="repassword" ng-minlength="6" ng-maxlength="20" required>
                </div>
                <div class="item item-input">
                    <span class="input-label">验证码</span>
                    <input type="text" ng-model="user.smscode" name="smscode" placeholder="请输入验证码" style="width:50%;padding-right:0px;" required>
                    <a class="button button-assertive button-small button-positive" style="position:absolute; padding:3px 10px; top:0.3rem; right:10px;"
                       ng-cliss="addclass" ng-click="getCode()"  ng-disabled="isdisabled" ng-bind="codetext">{{codetext}}</a>
                </div>
            </div>

            <div class="padding" style="padding-bottom:3px;">
                <button class="button button-block button-assertive" ng-click="upPwd(user)" ng-disabled="myForm.$invalid">提交修改</button>
            </div>
        </form>
        <div class="clearfix login-bottom" style="font-size: 14px; padding:0 6px;">
            <i class="fl"><a class="btn" ng-href="#!/login">登录</a></i>
            <i class="fr"><a class="btn" ng-href="#!/register">快速注册</a></i>
        </div>

    </ion-content>

</ion-view>